stage('Notify Slack') {
    steps {
        script {
            try {
                slackSend (
                    color: '#36a64f',
                    message: "Build Status: ${currentBuild.currentResult}",
                    channel: '#general',
                    tokenCredentialId: 'slack id new'
                )
            } catch (Exception e) {
                echo "Error sending Slack notification: ${e.getMessage()}"
            }
        }
    }
}
